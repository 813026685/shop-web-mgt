(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-77c0"],{"+Lc1":function(t,e,a){"use strict";a.d(e,"c",function(){return r}),a.d(e,"g",function(){return o}),a.d(e,"n",function(){return s}),a.d(e,"f",function(){return i}),a.d(e,"a",function(){return u}),a.d(e,"d",function(){return l}),a.d(e,"h",function(){return c}),a.d(e,"e",function(){return d}),a.d(e,"i",function(){return f}),a.d(e,"m",function(){return p}),a.d(e,"j",function(){return m}),a.d(e,"k",function(){return h}),a.d(e,"r",function(){return b}),a.d(e,"b",function(){return v}),a.d(e,"t",function(){return y}),a.d(e,"o",function(){return _}),a.d(e,"p",function(){return g}),a.d(e,"q",function(){return w}),a.d(e,"l",function(){return O}),a.d(e,"s",function(){return S});var n=a("t3Un");function r(t){return Object(n.a)({url:"/api/order/"+t+"/count",method:"post"})}function o(t){return Object(n.a)({url:"/api/order/list",method:"post",params:t})}function s(t,e){return Object(n.a)({url:"/api/order/"+t+"/update_status",method:"put",data:e})}function i(t,e){if("paid"===t)return function(t){return Object(n.a)({url:"/api/order/handle/paid_offline",method:"put",data:t})}(e);if("confirm"===t)return u(e);if("delivery"===t)return l(e);if("receipt"===t)return c(e);throw new Error("无效类型")}function u(t){return Object(n.a)({url:"/api/order/handle/confirm",method:"put",data:t})}function l(t){return Object(n.a)({url:"/api/order/handle/delivery",method:"put",data:t})}function c(t){return Object(n.a)({url:"/api/order/handle/receipt",method:"put",data:t})}function d(t,e){return Object(n.a)({url:"/api/order/detail/"+e+"/"+t,method:"get"})}function f(t){return Object(n.a)({url:"/api/order/records/"+t,method:"get"})}function p(t){return Object(n.a)({url:"/api/order/traces/"+t,method:"get"})}function m(t){return Object(n.a)({url:"/api/order/refund/list",method:"post",params:t})}function h(t){return Object(n.a)({url:"/api/order/refund/record/"+t,method:"get"})}function b(t){return Object(n.a)({url:"/api/order/refund/update_status",method:"put",data:t})}function v(t){return Object(n.a)({url:"/api/order/refund/confirm",method:"put",data:t})}function y(t){return Object(n.a)({url:"/api/order/wx/list",method:"post",params:t})}function _(t){return Object(n.a)({url:"/api/order/wx/payment_logs/"+t,method:"get"})}function g(t){return Object(n.a)({url:"/api/order/wx/refund_logs/"+t,method:"get"})}function w(t,e){return Object(n.a)({url:"/api/order/wx/sync_order",method:"put",params:{orderNo:t,transactionId:e}})}function O(t){return Object(n.a)({url:"/api/order/settle/list",method:"post",params:t})}function S(t){return Object(n.a)({url:"/api/order/settle/update",method:"put",data:t})}},"2+vO":function(t,e,a){"use strict";var n=a("faH3");a.n(n).a},"4exK":function(t,e,a){"use strict";a("QbLZ");var n=a("vDqi"),r=a.n(n);a("Aeqt"),r.a.create({baseURL:"http://api.map.baidu.com",timeout:3e4})},"5fiM":function(t,e,a){},"8s9t":function(t,e,a){"use strict";a.r(e);var n=a("4d7F"),r=a.n(n),o={name:"Sticky",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{active:!1,position:"",width:void 0,height:void 0,isSticky:!1}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleReize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleReize)},methods:{sticky:function(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},reset:function(){this.active&&(this.position="",this.width="auto",this.active=!1,this.isSticky=!1)},handleScroll:function(){this.width=this.$el.getBoundingClientRect().width,this.$el.getBoundingClientRect().top<this.stickyTop?this.sticky():this.reset()},handleReize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}},s=a("KHd+"),i=Object(s.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{height:t.height+"px",zIndex:t.zIndex}},[a("div",{class:t.className,style:{top:t.stickyTop+"px",zIndex:t.zIndex,position:t.position,width:t.width,height:t.height+"px"}},[t._t("default",[a("div",[t._v("sticky")])])],2)])},[],!1,null,null,null);i.options.__file="index.vue";var u=i.exports,l=a("Ig3y"),c=a("ZySA"),d=a("ZfUE"),f=a("a0Nf"),p=a("bY1+"),m=a("+Lc1"),h=a("BEYb"),b=(a("8Cku"),a("9x5b")),v=a("7Qib"),y=a("lwGy"),_={name:"AddSubtractor",props:{size:{type:String,default:"small"},isEdit:{type:Boolean,default:!0},inputStyle:{type:String,default:"width:128px;text-align: center"},quantity:{type:Number}},directives:{waves:c.a},data:function(){return{beforeValue:0}},computed:{currentQuantity:{get:function(){return this.quantity},set:function(t){this.$emit("update:quantity",t)}}},mounted:function(){},methods:{handleFocus:function(t){this.beforeValue=this.currentQuantity,this.$emit("focus",t)},handleBlur:function(t){if(this.currentQuantity!==this.beforeValue){if(!/^\+?[1-9][0-9]*$ /.test(this.currentQuantity))return this.$message({type:"warning",message:"请输入正确的数字"}),void(this.currentQuantity=this.beforeValue);this.currentQuantity=parseInt(this.currentQuantity),this.$emit("blur",t)}},handleSubtract:function(){this.currentQuantity<=1?this.$message({type:"warning",message:"不能再少了！"}):this.currentQuantity=this.currentQuantity-1},handleAdd:function(){this.currentQuantity=this.currentQuantity+1}}},g=(a("2+vO"),Object(s.a)(_,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{style:t.inputStyle,attrs:{readonly:!t.isEdit,size:t.size,autocomplete:"off"},on:{focus:t.handleFocus,blur:t.handleBlur},model:{value:t.currentQuantity,callback:function(e){t.currentQuantity=e},expression:"currentQuantity"}},[a("template",{slot:"prepend"},[a("el-button",{attrs:{size:t.size},on:{click:t.handleSubtract}},[t._v("-")])],1),t._v(" "),a("template",{slot:"append"},[a("el-button",{attrs:{size:t.size},on:{click:t.handleAdd}},[t._v("+")])],1)],2)],1)},[],!1,null,null,null));g.options.__file="index.vue";var w=g.exports;function O(t,e,a){var n=document.getElementById(t),r=n.getContext("2d"),o=n.width/2,s=n.height/2,i=n.width/6,u=n.height/4;r.globalAlpha=.5,r.lineWidth=4,r.strokeStyle=a||"#f00",a||(r.shadowColor="#d53",r.shadowBlur=10),r.lineJoin="bevel",r.rotate(10*Math.PI/180),r.strokeRect(i,u,4*i,2*u),r.font="22px Helvetica",r.textBaseline="middle",r.textAlign="center",r.lineWidth=1,r.fillStyle=a||"#f00",r.fillText(e,o,s)}a("S+eF");var S={orderId:null,orderNo:null,remark:"",nextStatusId:"",paidAmount:0},j={name:"orderBasic",components:{SysCode:d.a,DySelect:p.a,FormDialog:h.a,Sticky:u,CascaderArea:l.a,BmSearch:y.a,AddSubtractor:w},directives:{waves:c.a},filters:{priceFormatter:function(t){return t?"¥"+t.toFixed(2):"¥0.00"}},data:function(){return{cacheData:{},formData:{id:"",remark:"",status:"",cityId:"",countryId:"",deliveryMethod:"",discountedAmount:0,fullAddress:"",areaCode:"",openId:"",orderNo:"",paidAmount:0,payStatus:"",paymentChannel:"",paymentMethod:"",phoneNo:"",provinceId:"",realName:"",statusId:"",totalAmount:0,transactionId:"",uid:"",items:[]},eventType:null,areaSelected:[],formDataStatus:S,formVisible:!1,loading:!1,formVisibleMap:!1,formVisibleAddress:!1,mapSelected:{},rules:{}}},computed:{},mounted:function(){var t=this;Object(f.b)(this.cacheData,"ORDER_STATUS").then(function(){}),Object(f.a)(this.cacheData,"1008,1009,1010,1011,1013").then(function(){t.handleFilter(t.$route.params.orderId,t.$route.params.by)})},methods:{areaFormatter:v.a,handleFilter:function(t,e){this.handleQuery(t,e).then(function(t){!t.payStatus||"101301"!=t.payStatus&&"101306"!=t.payStatus?t.payStatus&&"101307"==t.payStatus&&O("payStatus","已退款","#666666"):O("payStatus","已付款")})},handleQuery:function(t,e){var a=this;return new r.a(function(n,r){Object(m.e)(t,e).then(function(t){t&&(a.formData=t,n(t),a.areaSelected=a.toAreaSelected(a.formData.areaCode))})})},formOpenMap:function(t){this.formVisibleMap=!0},formOpenAddress:function(){this.formVisibleAddress=!0},formCloseAddress:function(){this.formVisibleAddress=!1,this.formData.areaCode=this.toAreaCode()},formOpen:function(t){this.formVisible=!0,this.eventType=t,"SUBMIT_ONLINE"===this.formData.statusId?(this.formDataStatus.paidAmount=this.formData.totalAmount,this.formDataStatus.nextStatusId="PAID"):"PAID"===this.formData.statusId?this.formDataStatus.nextStatusId="CONFIRMED":"CONFIRMED"===this.formData.statusId?(this.formDataStatus.remark="您好！您的订单已由送货员【】配送，请您耐心等待，联系电话【】",this.formDataStatus.nextStatusId="DELIVERING"):"DELIVERING"===this.formData.statusId&&(this.formDataStatus.nextStatusId="RECEIPTED")},formClose:function(){this.formVisible=!1,this.eventType=null,this.$refs.formDataStatus.resetFields(),this.formDataStatus=S},handleFormSave:function(){var t=this;this.$refs.formDataStatus.validate(function(e){if(!e)return!1;t.loading=!0,t.formDataStatus.orderId=t.$route.params.orderId,console.log(t.eventType),Object(m.f)(t.eventType,t.formDataStatus).then(function(e){t.formVisible=!1,t.formDataStatus=S,t.handleQuery(t.$route.params.orderId,t.$route.params.by),t.$notify({title:"成功",message:"操作成功",type:"success",duration:2e3})}).catch(function(t){console.log(t)}).finally(function(){t.loading=!1})})},handleClipboard:function(t,e){Object(b.a)(t,e)},toAreaSelected:function(t){var e=t.substring(0,2)+"0000",a=t.substring(0,4)+"00",n=[];return n[0]=e,n[1]=a,n[2]=t,n},toAreaCode:function(){return this.areaSelected[2]}}},D=(a("JJhL"),a("wa4O"),Object(s.a)(j,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-container"},[a("el-row",{staticClass:"action-header"},["SUBMIT_ONLINE"==t.formData.statusId?a("el-button",{attrs:{type:"success"},on:{click:function(e){t.formOpen("paid")}}},[t._v("线下支付\n        ")]):t._e(),t._v(" "),"PAID"==t.formData.statusId?a("el-button",{attrs:{type:"success"},on:{click:function(e){t.formOpen("confirm")}}},[t._v("核对确认\n        ")]):t._e(),t._v(" "),"CONFIRMED"==t.formData.statusId?a("el-button",{attrs:{type:"success"},on:{click:function(e){t.formOpen("delivery")}}},[t._v("发货确认\n        ")]):t._e(),t._v(" "),"DELIVERING"==t.formData.statusId?a("el-button",{attrs:{type:"success"},on:{click:function(e){t.formOpen("receipt")}}},[t._v("签收确认\n        ")]):t._e()],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"base-header"},[a("h3",[a("svg-icon",{attrs:{"icon-class":"order"}}),t._v(" 基本信息")],1)]),t._v(" "),a("el-form",{ref:"formData",staticClass:"basic-table",attrs:{"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"订单编号",prop:"orderNo"}},[a("el-button",{attrs:{type:"text"},on:{click:function(e){t.handleClipboard(t.formData.orderNo,e)}}},[t._v(t._s(t.formData.orderNo))])],1),t._v(" "),a("el-form-item",{attrs:{label:"下单时间",prop:"createdTime"}},[a("span",[t._v(t._s(t._f("parseTime")(t.formData.createdTime)))])]),t._v(" "),a("el-form-item",{attrs:{label:"内部状态",prop:"statusId"}},[t.cacheData.options?a("span",[t._v(t._s(t._f("statusFilter")(t.formData.statusId,t.cacheData.options.ORDER_STATUS)))]):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"外部状态",prop:"statusId"}},[t.cacheData.options?a("span",[t._v(t._s(t._f("statusFilter")(t.formData.status,t.cacheData.options.ORDER_STATUS)))]):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("span",[t._v(t._s(t.formData.remark))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"base-header"},[a("h3",[a("svg-icon",{attrs:{"icon-class":"order_dev"}}),t._v(" 配送信息")],1)]),t._v(" "),a("el-form",{staticClass:"basic-table",attrs:{"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"配送方式",prop:"deliveryMethod"}},[t.cacheData.statusMap?a("span",[t._v(t._s(t._f("statusFilter")(t.formData.deliveryMethod,t.cacheData.statusMap[1010])))]):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"收货人手机号",prop:"phoneNo"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击拨打电话",placement:"top-start"}},[a("el-link",{attrs:{underline:!1,href:"tel:"+t.formData.phoneNo}},[t._v(t._s(t.formData.phoneNo)+"\n                        ")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"收货人地址",prop:"fullAddress"}},[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击跳转地图查询",placement:"top-start"}},[a("el-link",{attrs:{underline:!1,href:"https://map.baidu.com",target:"_blank"}},[t._v(t._s(t._f("areaFormatter")(t.formData.areaCode))+t._s(t.formData.fullAddress)+"\n                            ")])],1),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"text",icon:"el-icon-edit"},on:{click:t.formOpenAddress}},[t._v("修改")]),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"text",icon:"el-icon-document-copy"},on:{click:function(e){t.handleClipboard(t.areaFormatter(t.formData.areaCode)+t.formData.fullAddress,e)}}},[t._v("拷贝")])],1)])],1)],1)],1),t._v(" "),a("el-row",[a("div",{staticClass:"pay-header"},[a("h3",[a("svg-icon",{attrs:{"icon-class":"icon_order_payment"}}),t._v(" 支付信息")],1),t._v(" "),a("canvas",{staticClass:"pay-status",attrs:{id:"payStatus",width:"150",height:"100"}})]),t._v(" "),a("el-form",{staticClass:"basic-table",attrs:{"label-position":"left","label-width":"120px",inline:""}},[a("el-form-item",{attrs:{label:"支付方式",prop:"paymentMethod"}},[t.cacheData.statusMap?a("span",[t._v(t._s(t._f("statusFilter")(t.formData.paymentMethod,t.cacheData.statusMap[1008])))]):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"支付渠道",prop:"paymentChannel"}},[t.cacheData.statusMap?a("span",[t._v(t._s(t._f("statusFilter")(t.formData.paymentChannel,t.cacheData.statusMap[1011])))]):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"支付状态",prop:"payStatus"}},[t.cacheData.statusMap?a("span",{staticClass:"green"},[t._v(t._s(t._f("statusFilter")(t.formData.payStatus,t.cacheData.statusMap[1013])))]):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"微信支付订单号",prop:"transactionId"}},[a("span",[t._v(t._s(t.formData.transactionId))])])],1)],1),t._v(" "),a("div",{staticClass:"base-header"},[a("h3",[a("svg-icon",{attrs:{"icon-class":"goods"}}),t._v(" 商品清单")],1)]),t._v(" "),a("div",{staticClass:"actions-container"}),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.formData.items,border:"",fit:""}},[a("el-table-column",{attrs:{label:"商品图",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"user-avatar",attrs:{src:t.row.thumbnail}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.goodsName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"规格名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.skuName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"价格",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.sellingPrice))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.quantity))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"买家备注",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.message))])]}}])})],1),t._v(" "),a("el-row",[a("el-form",{staticClass:"total-table",attrs:{"label-width":"120px",inline:""}},[a("el-form-item",{attrs:{label:"商品金额",prop:"totalAmount"}},[a("span",[t._v(t._s(t._f("priceFormatter")(t.formData.totalAmount)))])]),t._v(" "),a("el-form-item",{attrs:{label:"优惠金额",prop:"discountedAmount"}},[a("span",{staticClass:"red"},[t._v(t._s(t._f("priceFormatter")(t.formData.discountedAmount)))])]),t._v(" "),a("el-form-item",{attrs:{label:"运费",prop:"deliveryAmount"}},[a("span",{staticClass:"red"},[t._v(t._s(t._f("priceFormatter")(t.formData.deliveryAmount)))])]),t._v(" "),a("el-form-item",{attrs:{label:"实付款",prop:"paidAmount"}},[a("span",{staticClass:"red"},[t._v(t._s(t._f("priceFormatter")(t.formData.paidAmount)))])])],1)],1),t._v(" "),a("el-dialog",{attrs:{center:!0,title:"订单处理",visible:t.formVisible},on:{"update:visible":function(e){t.formVisible=e},close:t.formClose}},[a("el-form",{ref:"formDataStatus",attrs:{center:!0,rules:t.rules,model:t.formDataStatus,"label-width":"120px"}},["SUBMIT_ONLINE"==t.formData.statusId?a("el-form-item",{attrs:{label:"实际支付金额"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formDataStatus.paidAmount,callback:function(e){t.$set(t.formDataStatus,"paidAmount",e)},expression:"formDataStatus.paidAmount"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.formDataStatus.remark,callback:function(e){t.$set(t.formDataStatus,"remark",e)},expression:"formDataStatus.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer"},[a("el-button",{on:{click:t.formClose}},[t._v(t._s(t.$t("table.cancel")))]),t._v(" "),a("el-button",{attrs:{waves:"",type:"primary"},on:{click:t.handleFormSave}},[t._v(t._s(t.$t("table.confirm")))])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"地图",visible:t.formVisibleMap},on:{"update:visible":function(e){t.formVisibleMap=e}}},[a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("bm-search",{attrs:{selected:t.mapSelected},on:{"update:selected":function(e){t.mapSelected=e}}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"地址修改",visible:t.formVisibleAddress},on:{"update:visible":function(e){t.formVisibleAddress=e}}},[a("el-form",{ref:"formDataAddress",attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"省/地区"}},[a("cascader-area",{attrs:{selected:t.areaSelected,lazy:!1},on:{"update:selected":function(e){t.areaSelected=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"详细地址"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.formData.fullAddress,callback:function(e){t.$set(t.formData,"fullAddress",e)},expression:"formData.fullAddress"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer"},[a("div",[a("el-button",{attrs:{waves:"",type:"primary"},on:{click:t.formCloseAddress}},[t._v(t._s(t.$t("table.confirm")))])],1)])],1)],1)},[],!1,null,"439f56b2",null));D.options.__file="orderBasic.vue";var k=D.exports,x=a("Mz3J"),C={name:"orderRecord",components:{Pagination:x.a,SysCode:d.a},directives:{waves:c.a},filters:{},data:function(){return{cacheData:{},tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:0,pageSize:10,orderBy:"+id"}}},mounted:function(){var t=this;Object(f.b)(this.cacheData,"ORDER_STATUS").then(function(){t.handleQueryList()})},methods:{cellStyle:function(){return"padding: 5px 0px;"},handleFilter:function(){this.handleQueryList()},handleQueryList:function(){var t=this;this.listLoading=!0,Object(m.i)(this.$route.params.orderId).then(function(e){t.list=e}).catch(function(t){console.log(t)}).finally(function(){t.listLoading=!1})}}},I=(a("xpXw"),Object(s.a)(C,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"actions-container"}),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"","default-sort":{prop:"createdDate",order:"descending"}}},[a("el-table-column",{attrs:{type:"index",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"之前状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("statusFilter")(e.row.beforeStatus,t.cacheData.options.ORDER_STATUS)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"当前状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("statusFilter")(e.row.status,t.cacheData.options.ORDER_STATUS)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.remark))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作人",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.operator))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createdTime",sortable:"",label:t.$t("table.createdTime"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("parseTime")(e.row.createdTime)))])]}}])})],1)],1)},[],!1,null,"c6e24b22",null));I.options.__file="orderRecord.vue";var A=I.exports,T={ROLE_USER:"用户",ROLE_ADMIN:"管理员"},N={name:"orderTraces",components:{Pagination:x.a,SysCode:d.a},directives:{waves:c.a},filters:{roleFilter:function(t){return T[t]}},data:function(){return{cacheData:{},tableKey:0,list:null,total:0,listLoading:!0,listQuery:{pageNum:0,pageSize:10,orderBy:"+id"}}},mounted:function(){var t=this;Object(f.b)(this.cacheData,"ORDER_STATUS").then(function(){t.handleQueryList()})},methods:{cellStyle:function(){return"padding: 5px 0px;"},handleFilter:function(){this.handleQueryList()},handleQueryList:function(){var t=this;this.listLoading=!0,Object(m.m)(this.$route.params.orderId).then(function(e){t.list=e}).catch(function(t){console.log(t)}).finally(function(){t.listLoading=!1})}}},E=(a("DOYT"),Object(s.a)(N,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"actions-container"}),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"","default-sort":{prop:"createdDate",order:"descending"}}},[a("el-table-column",{attrs:{type:"index",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"查看权限",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("roleFilter")(e.row.role)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"当前状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("statusFilter")(e.row.status,t.cacheData.options.ORDER_STATUS)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.remark))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作人",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.operator))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createdTime",sortable:"",label:t.$t("table.createdTime"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("parseTime")(e.row.createdTime)))])]}}])})],1)],1)},[],!1,null,"33e60121",null));E.options.__file="orderTraces.vue";var R=E.exports,F={props:{type:{type:String,default:"orderBasic"}},components:{orderBasic:k,orderRecord:A,orderTraces:R},data:function(){return{}},created:function(){},methods:{}},L=Object(s.a)(F,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["orderBasic"==t.type?a("order-basic"):t._e(),t._v(" "),"orderRecord"==t.type?a("order-record"):t._e(),t._v(" "),"orderTraces"==t.type?a("order-traces"):t._e()],1)},[],!1,null,null,null);L.options.__file="tabPane.vue";var M={name:"orderDetail",components:{tabPane:L.exports},data:function(){return{tabMapOptions:[{label:"基本信息",key:"orderBasic",icon:"el-icon-third-survey1"},{label:"操作记录",key:"orderRecord",icon:"el-icon-third-wodedingdan"},{label:"追踪记录",key:"orderTraces",icon:"el-icon-third-wodedingdan"}],tabName:"orderBasic"}},methods:{}},$=(a("I177"),Object(s.a)(M,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-container"},[a("el-tabs",{staticStyle:{"margin-top":"15px"},attrs:{type:"border-card"},model:{value:t.tabName,callback:function(e){t.tabName=e},expression:"tabName"}},t._l(t.tabMapOptions,function(e){return a("el-tab-pane",{key:e.key,attrs:{label:e.label,name:e.key}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{class:e.icon}),t._v(" "+t._s(e.label))]),t._v(" "),a("keep-alive",[t.tabName==e.key?a("tab-pane",{attrs:{type:e.key}}):t._e()],1)],1)}))],1)},[],!1,null,"0fb25d7c",null));$.options.__file="orderDetail.vue";e.default=$.exports},"9x5b":function(t,e,a){"use strict";a.d(e,"a",function(){return s});var n=a("Kw5r"),r=a("Ddwv"),o=a.n(r);function s(t,e){var a=new o.a(e.target,{text:function(){return t}});a.on("success",function(){n.default.prototype.$message({message:window.i18n.t("utils.clipboard.success"),type:"success",duration:1500}),a.off("error"),a.off("success"),a.destroy()}),a.on("error",function(){n.default.prototype.$message({message:window.i18n.t("utils.clipboard.error"),type:"error"}),a.off("error"),a.off("success"),a.destroy()}),a.onClick(e)}},DOYT:function(t,e,a){"use strict";var n=a("QjCb");a.n(n).a},I177:function(t,e,a){"use strict";var n=a("N3Vk");a.n(n).a},JJhL:function(t,e,a){"use strict";var n=a("WSKW");a.n(n).a},N3Vk:function(t,e,a){},QjCb:function(t,e,a){},TXlE:function(t,e,a){t.exports=a.p+"static/img/location.c14d04a.gif"},V7b7:function(t,e,a){},WSKW:function(t,e,a){},Y5bG:function(t,e,a){"use strict";a.d(e,"a",function(){return r}),Math.easeInOutQuad=function(t,e,a,n){return(t/=n/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e};var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function r(t,e,a){var r=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,o=t-r,s=0;e=void 0===e?500:e;!function t(){s+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(s,r,o,e)),s<e?n(t):a&&"function"==typeof a&&a()}()}},ZySA:function(t,e,a){"use strict";var n=a("P2sY"),r=a.n(n),o=(a("jUE0"),{bind:function(t,e){t.addEventListener("click",function(a){var n=r()({},e.value),o=r()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),s=o.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var i=s.getBoundingClientRect(),u=s.querySelector(".waves-ripple");switch(u?u.className="waves-ripple":((u=document.createElement("span")).className="waves-ripple",u.style.height=u.style.width=Math.max(i.width,i.height)+"px",s.appendChild(u)),o.type){case"center":u.style.top=i.height/2-u.offsetHeight/2+"px",u.style.left=i.width/2-u.offsetWidth/2+"px";break;default:u.style.top=(a.pageY-i.top-u.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",u.style.left=(a.pageX-i.left-u.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return u.style.backgroundColor=o.color,u.className="waves-ripple z-active",!1}},!1)}}),s=function(t){t.directive("waves",o)};window.Vue&&(window.waves=o,Vue.use(s)),o.install=s;e.a=o},a0Nf:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return u});var n=a("4d7F"),r=a.n(n),o=a("Kw5r"),s=a("hZMg");function i(t,e){return new r.a(function(a,n){Object(s.g)({typeCodes:e}).then(function(e){o.default.set(t,"codes",e);var n={},r={};for(var s in e){var i=e[s].__default__,u={};for(var l in i){var c=i[l].valCode;u[c]=i[l].valName,r[c]=i[l].valName}n[s]=u}n.__default__=r,o.default.set(t,"statusMap",n),a(1)})})}function u(t,e,a){return new r.a(function(n,r){Object(s.F)(e,a).then(function(e){var a={};for(var r in e){for(var s={},i=0;i<e[r].length;i++)s[e[r][i].value]=e[r][i].label;a[r]=s}o.default.set(t,"options",a),n(1)})})}},faH3:function(t,e,a){},hZMg:function(t,e,a){"use strict";a.d(e,"z",function(){return r}),a.d(e,"y",function(){return o}),a.d(e,"x",function(){return s}),a.d(e,"A",function(){return i}),a.d(e,"B",function(){return u}),a.d(e,"l",function(){return l}),a.d(e,"E",function(){return c}),a.d(e,"F",function(){return d}),a.d(e,"db",function(){return f}),a.d(e,"fb",function(){return p}),a.d(e,"eb",function(){return m}),a.d(e,"gb",function(){return h}),a.d(e,"X",function(){return b}),a.d(e,"Z",function(){return v}),a.d(e,"Y",function(){return y}),a.d(e,"K",function(){return _}),a.d(e,"L",function(){return g}),a.d(e,"N",function(){return w}),a.d(e,"M",function(){return O}),a.d(e,"H",function(){return S}),a.d(e,"J",function(){return j}),a.d(e,"I",function(){return D}),a.d(e,"T",function(){return k}),a.d(e,"W",function(){return x}),a.d(e,"V",function(){return C}),a.d(e,"U",function(){return I}),a.d(e,"S",function(){return A}),a.d(e,"k",function(){return T}),a.d(e,"j",function(){return N}),a.d(e,"R",function(){return E}),a.d(e,"e",function(){return R}),a.d(e,"c",function(){return F}),a.d(e,"d",function(){return L}),a.d(e,"b",function(){return M}),a.d(e,"f",function(){return $}),a.d(e,"g",function(){return Q}),a.d(e,"ab",function(){return V}),a.d(e,"cb",function(){return B}),a.d(e,"bb",function(){return z}),a.d(e,"O",function(){return U}),a.d(e,"Q",function(){return q}),a.d(e,"P",function(){return P}),a.d(e,"i",function(){return K}),a.d(e,"h",function(){return J}),a.d(e,"m",function(){return W}),a.d(e,"o",function(){return Y}),a.d(e,"n",function(){return H}),a.d(e,"s",function(){return Z}),a.d(e,"u",function(){return G}),a.d(e,"t",function(){return X}),a.d(e,"p",function(){return tt}),a.d(e,"D",function(){return et}),a.d(e,"G",function(){return at}),a.d(e,"w",function(){return nt}),a.d(e,"C",function(){return rt}),a.d(e,"q",function(){return ot}),a.d(e,"r",function(){return st}),a.d(e,"a",function(){return it}),a.d(e,"v",function(){return ut}),a.d(e,"hb",function(){return lt});var n=a("t3Un");function r(t){return Object(n.a)({url:"/api/sys/region/child/"+t,method:"get"})}function o(t){return Object(n.a)({url:"/api/sys/region/depth/"+t,method:"get"})}function s(){return Object(n.a)({url:"/api/sys/region/all",method:"get"})}function i(t){return Object(n.a)({url:"/api/sys/region/list",method:"post",params:t})}function u(t){return Object(n.a)({url:"/api/sys/region/save",method:"post",data:t})}function l(t,e){return Object(n.a)({url:"/api/sys/region/init/"+t,method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function c(t,e){return Object(n.a)({url:"/api/sys/select/"+t,method:"post",params:e})}function d(t,e){return Object(n.a)({url:"/api/sys/selects/"+t,method:"post",params:e})}function f(t){return Object(n.a)({url:"/api/sys/user/list",method:"post",params:t})}function p(t){return Object(n.a)({url:"/api/sys/user/save",method:"post",data:t})}function m(t){return Object(n.a)({url:"/api/sys/user/remove/"+t,method:"delete"})}function h(t,e){return Object(n.a)({url:"/api/sys/user/status/"+t+"/"+e,method:"put"})}function b(t){return Object(n.a)({url:"/api/sys/role/list",method:"post",params:t})}function v(t){return Object(n.a)({url:"/api/sys/role/save",method:"post",data:t})}function y(t){return Object(n.a)({url:"/api/sys/role/remove/"+t,method:"delete"})}function _(t){return Object(n.a)({url:"/api/sys/authority/list",method:"post",params:t})}function g(t){return Object(n.a)({url:"/api/sys/authority/_list",method:"post",params:t})}function w(t){return Object(n.a)({url:"/api/sys/authority/save",method:"post",data:t})}function O(t){return Object(n.a)({url:"/api/sys/authority/remove/"+t,method:"delete"})}function S(t){return Object(n.a)({url:"/api/sys/apiList/list",method:"post",params:t})}function j(t){return Object(n.a)({url:"/api/sys/apiList/save",method:"post",data:t})}function D(t){return Object(n.a)({url:"/api/sys/apiList/remove/"+t,method:"delete"})}function k(t){return Object(n.a)({url:"/api/sys/menu/list",method:"post",params:t})}function x(t){return Object(n.a)({url:"/api/sys/menu/tree_list",method:"post",params:t})}function C(t){return Object(n.a)({url:"/api/sys/menu/save",method:"post",data:t})}function I(t){return Object(n.a)({url:"/api/sys/menu/remove/"+t,method:"delete"})}function A(t){return Object(n.a)({url:"/api/sys/menu/detail/"+t,method:"get"})}function T(t){return Object(n.a)({url:"/api/sys/role/menu/"+t,method:"get"})}function N(t){return Object(n.a)({url:"/api/sys/role/authorities/"+t,method:"get"})}function E(t){return Object(n.a)({url:"/api/sys/menu/authorities/"+t,method:"get"})}function R(t){return Object(n.a)({url:"/api/sys/grant/user_roles",method:"post",data:t})}function F(t){return Object(n.a)({url:"/api/sys/grant/role_menu",method:"post",data:t})}function L(t){return Object(n.a)({url:"/api/sys/grant/role_authorities",method:"post",data:t})}function M(t){return Object(n.a)({url:"/api/sys/grant/menu_authorities",method:"post",data:t})}function $(t){return Object(n.a)({url:"/api/sys/code/cache",method:"get",params:t})}function Q(t){return Object(n.a)({url:"/api/sys/code/caches",method:"post",params:t})}function V(t){return Object(n.a)({url:"/api/sys/code/type/list",method:"post",params:t})}function B(t){return Object(n.a)({url:"/api/sys/code/type/save",method:"post",data:t})}function z(t){return Object(n.a)({url:"/api/sys/code/type/remove/"+t,method:"delete"})}function U(t){return Object(n.a)({url:"/api/sys/code/list",method:"post",params:t})}function q(t){return Object(n.a)({url:"/api/sys/code/save",method:"post",data:t})}function P(t){return Object(n.a)({url:"/api/sys/code/remove/"+t,method:"delete"})}function K(){return Object(n.a)({url:"/api/sys/code/type/last_code",method:"get"})}function J(t){return Object(n.a)({url:"/api/sys/code/"+t+"/last_code",method:"get"})}function W(t){return Object(n.a)({url:"/api/sys/jobs/details/list",method:"post",params:t})}function Y(t){return Object(n.a)({url:"/api/sys/jobs/details/save",method:"post",data:t})}function H(t){return Object(n.a)({url:"/api/sys/jobs/details/remove/"+t,method:"delete"})}function Z(t){return Object(n.a)({url:"/api/sys/jobs/trigger/list",method:"post",params:t})}function G(t){return Object(n.a)({url:"/api/sys/jobs/trigger/save",method:"post",data:t})}function X(t){return Object(n.a)({url:"/api/sys/jobs/trigger/remove/"+t,method:"delete"})}function tt(t){return Object(n.a)({url:"/api/sys/jobs/instance/list",method:"post",params:t})}function et(t){return Object(n.a)({url:"/api/sys/jobs/instance/save",method:"post",data:t})}function at(t){return Object(n.a)({url:"/api/sys/jobs/instance/start/"+t,method:"post"})}function nt(t){return Object(n.a)({url:"/api/sys/jobs/instance/pause/"+t,method:"post"})}function rt(t){return Object(n.a)({url:"/api/sys/jobs/instance/remove/"+t,method:"post"})}function ot(t){return Object(n.a)({url:"/api/sys/jobs/instance/logs/list",method:"post",params:t})}function st(t){return Object(n.a)({url:"/api/sys/jobs/instance/logs/statistics",method:"post",params:t})}function it(t){return Object(n.a)({url:"/api/sys/metadata/table/all_list",method:"post",params:t})}function ut(t){return Object(n.a)({url:"/api/sys/metadata/details/"+t,method:"get"})}function lt(){return Object(n.a)({url:"/api/sys/metadata/sync",method:"post"})}},jUE0:function(t,e,a){},wa4O:function(t,e,a){"use strict";var n=a("V7b7");a.n(n).a},xpXw:function(t,e,a){"use strict";var n=a("5fiM");a.n(n).a}}]);